import{_ as I,r as i,l as j,c as M,w as r,k as d,a as g,b as a,e as m,f as N,i as c,m as L,t as T,n as q,h as O,j as $}from"./index-Dd-B2YBL.js";import{c as G,r as H}from"./authApi-N1p8UDbZ.js";const J={class:"d-flex align-center mb-3"},K={class:"mb-3"},Q={class:"d-flex mb-2"},W={__name:"AuthRegisterView",setup(X){const V=$(),l=i({name:"",email:"",password:"",confirmPassword:"",gender:"",birthdate:"",address:"",role:"ROLE_USER"}),s=i({zipcode:"",roadAddress:"",detailAddress:""});i(!1),i(!1);const u=i(""),f=i(!1),v=i(!1),y=j(()=>l.value.password!==l.value.confirmPassword),w=()=>{if(!l.value.email){u.value="이메일을 입력해주세요.";return}G(l.value.email,({data:o})=>{f.value=!0,o?u.value="중복된 이메일입니다.":u.value="사용할 수 있는 이메일입니다."})},x=()=>{f.value=!1,u.value=""},A=()=>{const o=[s.value.zipcode,s.value.roadAddress,s.value.detailAddress].filter(Boolean).join(", ");return{name:l.value.name,gender:l.value.gender,email:l.value.email,password:l.value.password,birthdate:l.value.birthdate,address:o,role:"USER"}},p=i(null),k=()=>{new daum.Postcode({oncomplete:o=>{s.value.zipcode=o.zonecode,s.value.roadAddress=o.roadAddress,p.value&&p.value.$el.querySelector("input").focus()}}).open()},h=async()=>{if(!v.value&&U())try{v.value=!0;const o=A();await H(o,({data:e})=>{alert("회원가입이 완료되었습니다."),V.push({name:"user-login"})})}catch(o){console.error("회원가입 실패:",o),alert("회원가입에 실패했습니다. 다시 시도해주세요.")}finally{v.value=!1}},U=()=>{let o=!0;return l.value.name?l.value.email?f.value?l.value.password?y.value?(alert("비밀번호가 일치하지 않습니다."),!1):l.value.birthdate?l.value.gender?s.value.roadAddress?o:(alert("주소를 입력해주세요."),!1):(alert("성별을 선택해주세요."),!1):(alert("생년월일을 입력해주세요."),!1):(alert("비밀번호를 입력해주세요."),!1):(alert("이메일 중복 확인을 해주세요."),!1):(alert("이메일을 입력해주세요."),!1):(alert("이름을 입력해주세요."),!1)};return(o,e)=>{const E=d("v-card-title"),R=d("v-card-subtitle"),n=d("v-text-field"),b=d("v-btn"),_=d("v-radio"),C=d("v-radio-group"),z=d("v-icon"),S=d("v-form"),B=d("v-card"),D=d("v-col"),F=d("v-row"),P=d("v-container");return g(),M(P,{class:"fill-height"},{default:r(()=>[a(F,{justify:"center"},{default:r(()=>[a(D,{cols:"12",sm:"8",md:"6"},{default:r(()=>[a(B,{class:"pa-6",width:"400",style:{margin:"0 auto"}},{default:r(()=>[a(E,{class:"text-h5 font-weight-semibold pb-2",style:{"letter-spacing":"-0.6px",color:"#020617","font-family":"Inter"}},{default:r(()=>e[9]||(e[9]=[m(" 회원가입 ")])),_:1}),a(R,{class:"text-body-2",style:{color:"#64748B","font-family":"Inter"}},{default:r(()=>e[10]||(e[10]=[m(" 여행을 시작하기 위한 첫 걸음 ")])),_:1}),a(S,{onSubmit:N(h,["prevent"]),class:"mt-4"},{default:r(()=>[a(n,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.name=t),label:"이름",variant:"outlined",density:"comfortable",class:"mb-3","hide-details":"",style:{"border-radius":"6px"},"bg-color":"white"},null,8,["modelValue"]),c("div",J,[a(n,{modelValue:l.value.email,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.email=t),label:"이메일",variant:"outlined",density:"comfortable","hide-details":"",class:"mr-2",style:{"border-radius":"6px"},"bg-color":"white",onInput:x},null,8,["modelValue"]),a(b,{onClick:w,color:"#0F172A","min-width":"80",height:"40",style:{"border-radius":"6px"}},{default:r(()=>e[11]||(e[11]=[m(" 중복 확인 ")])),_:1})]),u.value?(g(),L("div",{key:0,class:q(["text-body-2 mb-3",u.value.includes("사용")?"text-success":"text-error"])},T(u.value),3)):O("",!0),a(n,{modelValue:l.value.password,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.password=t),label:"비밀번호",type:"password",variant:"outlined",density:"comfortable",class:"mb-3","hide-details":"",style:{"border-radius":"6px"},"bg-color":"white"},null,8,["modelValue"]),a(n,{modelValue:l.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.confirmPassword=t),label:"비밀번호 확인",type:"password",variant:"outlined",density:"comfortable",class:"mb-3","error-messages":y.value?"비밀번호가 일치하지 않습니다":"",style:{"border-radius":"6px"},"bg-color":"white"},null,8,["modelValue","error-messages"]),a(n,{modelValue:l.value.birthdate,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.birthdate=t),label:"생년월일",type:"date",variant:"outlined",density:"comfortable",class:"mb-3","hide-details":"",style:{"border-radius":"6px"},"bg-color":"white"},null,8,["modelValue"]),a(C,{modelValue:l.value.gender,"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.gender=t),inline:"",class:"mb-3","hide-details":""},{default:r(()=>[a(_,{label:"남성",value:"M"}),a(_,{label:"여성",value:"F"})]),_:1},8,["modelValue"]),c("div",K,[c("div",Q,[a(n,{modelValue:s.value.zipcode,"onUpdate:modelValue":e[6]||(e[6]=t=>s.value.zipcode=t),label:"우편번호",readonly:"",variant:"outlined",density:"comfortable",class:"mb-2","append-inner-icon":"mdi-magnify","onClick:appendInner":k},null,8,["modelValue"])]),a(n,{modelValue:s.value.roadAddress,"onUpdate:modelValue":e[7]||(e[7]=t=>s.value.roadAddress=t),label:"도로명/지번 주소",readonly:"",variant:"outlined",density:"comfortable",class:"mb-2"},null,8,["modelValue"]),a(n,{ref_key:"detailAddressRef",ref:p,modelValue:s.value.detailAddress,"onUpdate:modelValue":e[8]||(e[8]=t=>s.value.detailAddress=t),label:"상세 주소",variant:"outlined",density:"comfortable",class:"mb-2"},null,8,["modelValue"])]),a(b,{loading:v.value,disabled:v.value,type:"submit",block:"",color:"#0F172A",height:"40",class:"mb-3",style:{"border-radius":"6px"}},{default:r(()=>e[12]||(e[12]=[m(" 회원가입 ")])),_:1},8,["loading","disabled"]),e[15]||(e[15]=c("div",{class:"text-body-2 text-grey-darken-1 text-center mb-4"}," 사용중인 메일로 인증 후 회원가입을 실시하여 주세요 ",-1)),a(b,{block:"",color:"#FEE500",height:"40",style:{"border-radius":"6px","font-family":"Roboto"},class:"d-flex align-center justify-center"},{default:r(()=>[a(z,{class:"mr-2"},{default:r(()=>e[13]||(e[13]=[m("mdi-chat")])),_:1}),e[14]||(e[14]=m(" 카카오로 회원가입 "))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ee=I(W,[["__scopeId","data-v-8bf30c1e"]]);export{ee as default};
