<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- mapper file: 실행시킬 query를 가지고 있는 파일 -->

<mapper namespace="com.trip.member.mapper.MemberMapper">
	<resultMap type="Member" id="memberMap">
		<id property="userId" column="user_id"/>
		<result property="userName" column="user_name"/>
		<result property="userPwd" column="user_pwd"/>
		<result property="emailId" column="email_id"/>
		<result property="emailDomain" column="email_domain"/>
		<result property="joinDate" column="join_date"/>
		<result property="salt" column="salt"/>
	</resultMap>
	
	<select id="findById" parameterType="string" resultType="string">
		select * from members where user_id = #{userId}
	</select>
	
	<select id="findBySalt" parameterType="string" resultType="string">
		select salt from members where user_id = #{userId}
	</select>
	
	<insert id="save" parameterType="Member">
		insert into members ( user_id, user_name, user_pwd, email_id, email_domain, salt) values( #{userId}, #{userName}, #{userPwd}, #{emailId}, #{emailDomain}, #{salt})
	</insert>
	
	<select id="findByMember" parameterType="map" resultMap="memberMap">
		select * from members where user_id = #{userId} and user_pwd=#{userPwd}
	</select>
	
	<delete id="delete" parameterType="string">
		delete from members where user_id = #{userId}
	</delete>
	
	<update id="update" parameterType="Member">
		update members set user_name=#{userName} where user_id= #{userId}	
	</update>
	
</mapper>




